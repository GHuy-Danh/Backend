<div class="content">
  <!-- ===== Thanh c√¥ng c·ª• & B·ªô l·ªçc ===== -->
  <div class="info-card filter-bar">
    <h3>Danh s√°ch gi·∫£ng vi√™n</h3>
    <div class="filters">
      <select [(ngModel)]="selectedNganh" (change)="applyFilter()">
        <option value="T·∫•t c·∫£">T·∫•t c·∫£ ng√†nh</option>
        <option value="C√¥ng ngh·ªá th√¥ng tin">C√¥ng ngh·ªá th√¥ng tin</option>
        <option value="Gi√°o d·ª•c ƒë·∫°i c∆∞∆°ng">Gi√°o d·ª•c ƒë·∫°i c∆∞∆°ng</option>
        <option value="Gi√°o d·ª•c an ninh">Gi√°o d·ª•c an ninh</option>
        <option value="Gi√°o d·ª•c th·ªÉ ch·∫•t">Gi√°o d·ª•c th·ªÉ ch·∫•t</option>
      </select>

      <input
        type="text"
        placeholder="üîç T√¨m theo t√™n ho·∫∑c m√£ GV..."
        [(ngModel)]="searchText"
        (input)="applyFilter()"
      />

      <button class="btn refresh-btn" (click)="refresh()">‚Ü©Ô∏è L√†m m·ªõi</button>
    </div>
  </div>

  <!-- ===== B·∫£ng danh s√°ch ===== -->
  <div class="info-card table-container">
    <h3>Danh s√°ch gi·∫£ng vi√™n</h3>

    <table>
      <thead>
        <tr>
          <th>M√£ GV</th>
          <th>H·ªç v√† t√™n</th>
          <th>Ng√†nh d·∫°y</th>
          <th>Email</th>
          <th>S·ªë ƒëi·ªán tho·∫°i</th>
          <th>Thao t√°c</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let gv of paginatedTeachers">
          <td>{{ gv.ma_gv }}</td>
          <td>{{ gv.ten_giang_vien }}</td>
          <td>{{ gv.nganh_day }}</td>
          <td>{{ gv.email }}</td>
          <td>{{ gv.so_dien_thoai }}</td>        
          <td>
            <button class="btn view-btn" (click)="openDetailModal(gv)">üîç</button>
          </td>
        </tr>

        <tr *ngIf="paginatedTeachers.length === 0">
          <td colspan="8" style="text-align:center; padding:15px; color:#777">
            Kh√¥ng c√≥ d·ªØ li·ªáu gi·∫£ng vi√™n ph√π h·ª£p.
          </td>
        </tr>
      </tbody>
    </table>

    <!-- üîπ Ph√¢n trang -->
    <div class="pagination" *ngIf="totalPages > 1">
      <button class="btn page-btn" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">
        ‚óÄ Tr∆∞·ªõc
      </button>
      <span>Trang {{ currentPage }} / {{ totalPages }}</span>
      <button class="btn page-btn" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">
        Sau ‚ñ∂
      </button>
    </div>
  </div>

  <!-- ===== Modal Chi ti·∫øt Gi·∫£ng vi√™n ===== -->
  <div class="modal-backdrop" *ngIf="isDetailModalOpen" (click)="closeDetailModal()"></div>
  <div class="modal" [class.open]="isDetailModalOpen">
    <div class="modal-content">
      <h3>üìã Th√¥ng tin chi ti·∫øt gi·∫£ng vi√™n</h3>

      <div *ngIf="selectedGV">
        <table class="detail-table">
          <tr><th>M√£ GV</th><td>{{ selectedGV.ma_gv }}</td></tr>
          <tr><th>H·ªç t√™n</th><td>{{ selectedGV.ten_giang_vien }}</td></tr>
          <tr><th>Ng√†nh d·∫°y</th><td>{{ selectedGV.nganh_day }}</td></tr>
          <tr><th>Email</th><td>{{ selectedGV.email }}</td></tr>
          <tr><th>S·ªë ƒëi·ªán tho·∫°i</th><td>{{ selectedGV.so_dien_thoai }}</td></tr>
        </table>
      </div>

      <div class="modal-actions">
        <button class="btn cancel-btn" (click)="closeDetailModal()">ƒê√≥ng</button>
      </div>
    </div>
  </div>
</div>
