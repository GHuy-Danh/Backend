<div class="content">
  <!-- Welcome Section -->
  <div class="welcome-card">
    <div class="welcome-content">
      <h2>üóìÔ∏è L·ªãch d·∫°y Gi·∫£ng vi√™n</h2>
      <p>
        Xem l·ªãch d·∫°y chi ti·∫øt tu·∫ßn n√†y c·ªßa gi·∫£ng vi√™n <span class="highlight">{{ tenGiangVien }}</span>.
      </p>
    </div>
  </div>

  <!-- Filter & Controls Section -->
  <div class="info-card">
    <div class="card-header">
      <h3>üîç B·ªô l·ªçc & T√πy ch·ªçn</h3>     
    </div>
    
    <div class="filter-controls">
      <!-- Ch·ªçn Tu·∫ßn -->
      <div class="control-group">
        <label>Ch·ªçn tu·∫ßn ({{ getWeekRange() }}):</label>
        <div class="week-navigator">
          <button class="nav-btn" (click)="changeWeek(-7)">‚ùÆ</button>
          <input 
            type="date" 
            [ngModel]="currentDate | date:'yyyy-MM-dd'" 
            (ngModelChange)="onDateChange($event)" 
            class="date-input"
          />
          <button class="nav-btn" (click)="changeWeek(7)">‚ùØ</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Schedule Table Section -->
  <div class="info-card">
    <h3>üìã Chi ti·∫øt L·ªãch d·∫°y</h3>
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="state-box loading">
      <div class="spinner"></div>
      <span>ƒêang t·∫£i d·ªØ li·ªáu l·ªãch d·∫°y...</span>
    </div>
    
    <!-- Error State -->
    <div *ngIf="errorMessage" class="state-box error">
      <span>‚ö†Ô∏è {{ errorMessage }}</span>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && !errorMessage && filteredSchedule.length === 0" class="state-box empty">
      <span>üì≠ Kh√¥ng c√≥ l·ªãch d·∫°y n√†o trong tu·∫ßn n√†y.</span>
    </div>

    <!-- Data Table -->
    <div class="table-scroll" *ngIf="!isLoading && !errorMessage && filteredSchedule.length > 0">
      <table>
        <thead>
          <tr>
            <th class="w-day">Th·ª©</th>
            <th class="w-date">Ng√†y</th>
            <th class="w-session">Ti·∫øt</th>
            <th>M√¥n h·ªçc</th>
            <th>L·ªõp HP</th>
            <th>Ph√≤ng</th>
            <th>Gi·∫£ng vi√™n</th>
            <th>Lo·∫°i h√¨nh</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of filteredSchedule" [class]="'row-' + item.loai_phong">
            <td class="fw-bold">{{ item.thu_hoc }}</td>
            <td>{{ item.ngay_hoc | date:'dd/MM' }}</td>
            <td>
              <span class="badge-time">{{ item.tiet_bat_dau }} - {{ item.tiet_ket_thuc }}</span>
            </td>
            <td class="fw-medium">{{ item.ten_hp }}</td>
            <td class="text-primary">{{ item.ma_lop_hp }}</td>
            <td>{{ item.phong }}</td>
            <td>{{ item.ten_gv }}</td>
            <td>
              <span class="status-badge" [class]="item.loai_phong">
                {{ item.trang_thai }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Legend / Notes -->
  <div class="note-card">
    <h4>Ch√∫ th√≠ch lo·∫°i l·ªãch:</h4>
    <div class="legend-list">
      <div class="legend-item">
        <span class="dot theory"></span> L√Ω thuy·∫øt
      </div>
      <div class="legend-item">
        <span class="dot lab"></span> Th·ª±c h√†nh
      </div>
      <div class="legend-item">
        <span class="dot online"></span> Tr·ª±c tuy·∫øn
      </div>
      <div class="legend-item">
        <span class="dot exam"></span> L·ªãch thi
      </div>
      <div class="legend-item">
        <span class="dot off"></span> Ngh·ªâ/B√π
      </div>
    </div>
  </div>
</div>