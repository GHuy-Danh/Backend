<div class="content">
  <!-- Welcome Section -->
  <div class="welcome-card">
    <div class="welcome-header">
      <div class="welcome-text">
        <h2>Xin ch√†o, <span class="highlight">{{ tenGiangVien }}</span> üëã</h2>
        <p>
          T·ªïng quan c√¥ng t√°c gi·∫£ng d·∫°y v√† c·ªë v·∫•n h·ªçc t·∫≠p.
        </p>
      </div>
      
      <!-- B·ªô ch·ªçn H·ªçc k·ª≥ -->
      <div class="semester-selector">
        <label for="hkSelect">Ch·ªçn H·ªçc k·ª≥:</label>
        <select id="hkSelect" [(ngModel)]="selectedHocKy" (change)="onHocKyChange()">
          <option *ngFor="let hk of hocKyOptions" [value]="hk">H·ªçc k·ª≥ {{ hk }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="info-card no-padding-bottom">
    <h3>Th·ªëng k√™ nhanh (HK {{ selectedHocKy }})</h3>
    
    <div class="stats-grid" *ngIf="!isLoading">
      <!-- Stat 1: Sinh vi√™n -->
      <div class="stat-box blue">
        <div class="stat-icon">
          <span>üë®‚Äçüéì</span> <!-- ƒê√£ thay icon b·∫±ng Emoji -->
        </div>
        <div class="stat-content">
          <h4>T·ªïng sinh vi√™n</h4>
          <p>{{ stats.totalStudents }}</p>
        </div>
      </div>

      <!-- Stat 2: M√¥n h·ªçc -->
      <div class="stat-box green">
        <div class="stat-icon">
          <span>üìò</span> <!-- ƒê√£ thay icon b·∫±ng Emoji -->
        </div>
        <div class="stat-content">
          <h4>M√¥n h·ªçc ph·ª• tr√°ch</h4>
          <p>{{ stats.totalSubjects }}</p>
        </div>
      </div>

      <!-- Stat 3: L·ªõp -->
      <div class="stat-box purple">
        <div class="stat-icon">
          <span>üè´</span> <!-- ƒê√£ thay icon b·∫±ng Emoji -->
        </div>
        <div class="stat-content">
          <h4>L·ªõp h·ªçc ph·∫ßn</h4>
          <p>{{ stats.totalClasses }}</p>
        </div>
      </div>

      <!-- Stat 4: C·∫£nh b√°o -->
      <div class="stat-box orange">
        <div class="stat-icon">
          <span>‚ö†Ô∏è</span> <!-- ƒê√£ thay icon b·∫±ng Emoji -->
        </div>
        <div class="stat-content">
          <h4>L·ªõp c·∫ßn ch√∫ √Ω</h4>
          <p>{{ stats.problemClasses }}</p>
        </div>
      </div>
    </div>
    
    <!-- Loading Skeleton -->
    <div class="stats-grid" *ngIf="isLoading">
      <div class="stat-box skeleton" *ngFor="let i of [1,2,3,4]"></div>
    </div>
  </div>

  <!-- Classes Table -->
  <div class="info-card">
    <h3>Danh s√°ch L·ªõp ƒëang ph·ª• tr√°ch</h3>
    
    <div class="table-scroll" *ngIf="!isLoading && classesList.length > 0">
      <table>
        <thead>
          <tr>
            <th>STT</th>
            <th>M√£ L·ªõp HP</th>
            <th>T√™n M√¥n H·ªçc</th>
            <th>Ph√≤ng</th>
            <th class="text-center">S·ªë Sinh Vi√™n</th>
            <th>T√¨nh tr·∫°ng</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let lop of classesList; let i = index">
            <td>{{ i + 1 }}</td>
            <td class="fw-bold text-primary">{{ lop.ma_lop_hp }}</td>
            <td>{{ lop.ten_hp }}</td>
            <td>{{ lop.phong }}</td>
            <td class="text-center">
              <span class="badge-number">{{ lop.so_sv }}</span>
            </td>
            <td>
              <span class="status" 
                [ngClass]="{
                  'success': lop.trang_thai === '·ªîn ƒë·ªãnh',
                  'warning': lop.trang_thai === 'C·∫ßn ch√∫ √Ω',
                  'info': lop.trang_thai === 'L·ªõp ƒë√¥ng'
                }">
                {{ lop.trang_thai }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="!isLoading && classesList.length === 0" class="empty-state">
      <p>Ch∆∞a c√≥ l·ªõp h·ªçc ph·∫ßn n√†o ƒë∆∞·ª£c ph√¢n c√¥ng trong H·ªçc k·ª≥ {{ selectedHocKy }}.</p>
    </div>

    <div *ngIf="isLoading" class="loading-state">
      <div class="spinner"></div> ƒêang t·∫£i d·ªØ li·ªáu...
    </div>
  </div>
</div>